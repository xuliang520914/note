### 引用变量
- 在PHP中用不同名字访问同一个变量的内容。用`&`符号定义
- 传值操作，当有变量改变时，才会新开辟地址空间`COW`机制，copy on write。
- 传引用时，变量修改，因为变量都是指向同一个空间，改变一个，另一个也会改变
- 传引用时，执行`unset`时，只会取消引用，不会销毁空间
- 在PHP中，对象本身就是引用传值
  ```PHP
    // 写出下面程序执行输出结果
    $data = ['a', 'b', 'c'];

    foreach ($data as $key => $value) {
        $value = &$data[$key];
    }
    // 程序运行时，每一步循环结束$data的值是什么，为什么
    // 程序运行结束时，$data的值是什么

    //第一次循环 $value指向$data[0]的地址空间
    $data = ['a', 'b', 'c'];

    // 第二次循环，将$data[1]的地址空间给$value，此时$value指向的是$data[0]。既是将$data[1]给$data[0]
    $data = ['b', 'b', 'c'];

    // 第三次循环，将$data[2]的地址空间给到$value，此时$value指向的是$data[1]。既是$data[2]给到$data[1]
    $data = ['b', 'c', 'c']

    // 所以结束时的$data是['b', 'c', 'c']
  ```
### 常量和数据类型
- 字符串定义方式以及各自区别
  - 定义方式：单引号，双引号，`heredoc`和`newdoc`
  - 区别
    - 单引号不解析变量。而双引号可以解析变量，变量可以使用特殊字符和`{}`包含
    - 单引号不能解析转义字符，只能解析单引号和反斜线本身。双引号可以解析所有的转义字符
    - 单引号效率比双引号高一些
    - `heredoc`类似于双引号，`newdoc`类似于单引号
- 三大数据类型
  - 标量（基本）：字符串`string`，整型`int`，浮点型`float`，布尔`bool`
  - 复合：数组`array`，对象`object`
  - 特殊：空`null`，资源`resource`
- 注意
  - 浮点类型不能用于相等的判断

  - 布尔类型的7中情况
    - 整型0
    - 浮点0.0
    - 空字符串''
    - 字符串'0'
    - 布尔false
    - 空数组array()
    - NULL

  - 超全局数组
    - `$GLOBALS`：包含下面所有
    - `$_GET`
    - `$_POST`
    - `$_REQUEST`：包含`$_POST`、`$_GET`、`$_COOKIE`
    - `$_SESSION`
    - `$_COOKIE`
    - `$_SERVER`
    - `$_FILES`
    - `$_ENV`

  - `$_SERVER`内容
    - `$_SERVER['REMOTE_ADDR']`：客户端IP地址
    - `$_SERVER['REQUEST_URI']`
    - `$_SERVER['SERVER_ADDR]`：服务器端IP地址
    - `$_SERVER['SERVER_NAME']`：服务器域名
    - `$_SERVER['REQUEST_TIME']`：请求时间
    - `$_SERVER['QUERY_STRING']`
    - `$_SERVER['HTTP_REFERER']`：上级请求页面
    - `$_SERVER['HTTP_USER_AGENT']`：`header`的`user-agent`信息
    - `$_SERVER['PATH_INFO']`：`header`的`user-agent`信息
    - `$_SERVER['HTTP_USER_AGENT']`：`header`的`user-agent`信息

  - `NULL`的三种情况
    - 直接赋值`NULL`
    - 未定义变量
    - `uset`销毁的变量
  
  - 常量
    - `const`定义：不是函数，是语言结构
    - `define`定义：是函数
    - `const`更快
    - `const`可以定义类的常量，`define`不能
  - 预定义常量
    - `__FILE__`：文件路径名和名称
    - `__LINE__`：所在行的行号
    - `__DIR__`：所在目录
    - `__FUNCTION__`：所在函数体的函数名称
    - `__CLASS__`：类名称
    - `__TRAIT__`：`trait`名称
    - `__METHOD__`：类名加方法名
    - `__NAMESPACE__`：命名空间
### 正则表达式
- 作用：分割、匹配、查找和替换字符串
- 分割符：正斜线`/`、hash符号`#`、以及取反符号`~`
- 元字符
  - 特殊单字符
    - `.`：除换行外的任意字符
    - `\d`：任意数字 `\D`：任意非数字
    - `\w`：任意数字字母下划线 `\W`除任意字母数字下划线
    - `\s`：任意空白符 `\S`任意非空白
    - `\r`：回车
    - `\n`：换行
    - `\f`：换页
    - `\t`：制表符
    - `\v`：垂直制表符
    - `\s`：任意空白符
    - `|`：或 ab|bc表示ab或者bc
    - `[...]`：多选1，括号中任意单个元素
    - `[a-z]`：匹配a-z包括a和z之间的任意一个
    - `[^...]`：取反 表示除去括号中的任意一个字符
    - `()`后向引用或当做一个整体
    - `-` 0-9表示起始位置到结束位置之间所有
    - `*`：0到多次
    - `+`：1多多次
    - `?`：0到1次
    - `{m}`：m次
    - `{m,}`：至少m次
    - `{m,n}`：m到n次
  - 模式修正符
    - `i`：不区分大小写
    - `m`：将字符串通过分隔符进行分割。就是将字符串的每一行分别进行匹配（前提是字符串里面必须有换行）
    - `e`：可以将匹配出来的内容做一些`PHP`语法的处理（PHP7已经移除）
    - `s`：代表修正点的换行
    - `U`：取消贪婪模式
    - `X`：忽略模式中的空白符
    - `A`：必须以这个模式开头
    - `D`：修正对`\n`的一个忽略
    - `u`：做`utf-8`的中文匹配使用
- 量词与贪婪
  - 贪婪模式：按照尽可能最大长度匹配
    - 默认的是贪婪模式
    - 会发生回溯，后面匹配不上会吐出已匹配上的再次尝试
  - 非贪婪模式：量词后面加上英文`?`。尽可能短的匹配
    - 会发生回溯，后面匹配不上会匹配更长的，继续尝试
    - 文本`aaabbb`匹配规则`a{1,3}?ab`在该模式匹配到结果`aaab`

- 后向引用举例
    ```PHP
      // 将字符串去除标签
      $str = '<b>abc</b>';
      $pattern = '/<b>(.*)<\/b>/';

      echo preg_replace($pattern, '\1', $str);// 此处的 \1表示第一个小括号中的匹配到的内容
    ```
- 常见的正则表达式PCRE函数
  - prep_match()
  - prep_match_all()
  - prep_replace()
  - prep_split()
- 中文匹配
  - `UTF-8`汉字编码范围`0x4e00`-`0x9fa5`
  - `ANSI`(`gb2312`)环境下`0xb0`-`0xf7`,`0xa1`-`0xfe`
  - 匹配时`UTF-8`要使用`u模式修正符`使模式字符串被当做`UTF-8`
  - 在`ANSI`(`gb2312`)环境下，要使用`chr`将`Ascii`码转换为字符
    ```PHP
      $str = '中文';
      // utf-8
      $pattern = '/[\x{4e00}-\x{9fa5}]/';

      // gb2312
      $pattern = '/['.chr(0xb0).'- '.chr(0xf7).chr(0xa1).'- '.chr(0xfe).']+/'

      preg_match($pattern, $str, $result);
      echo $result;
    ```
### 文件及目录操作

### 会话控制

### 面向对象

### 网络协议
- `OSI`七层模型
  - 物理层：建立、维护、断开物理连接
  - 数据链路层：建立逻辑连接，进行硬件寻址，差错校验等功能
  - 网络层：进行逻辑地址寻址，实现不同网络之间的路径选择
  - 传输层：定义传输数据的协议端口号，以及流控和差错校验（TCP，UDP）
  - 会话层：建立、管理、终止会话
  - 表示层：数据的表示、安全和压缩
  - 应用层：网络服务和最终用户的一个接口（HTTP，HTTPS，FTP，TFTP，SMTP）

- `TCP/IP`四层模型
  - 链路层（MAC层）：负责底层网络发送原始数据包，使用MAC地址标记网络上的设备
  - 网际层（网络互联层）：`IP`协议处于这一层
  - 传输层：`TCP`协议，保证数据在IO地址标记的两点之间可靠的传输
  - 应用层：面向具体应用的协议。如`HTTP`、`Telnet`、`FTP`、`SMTP`等等

- TCP与UDP之间区别
  - TCP是有状态协议，需要先建立连接，保证数据不丢失不重复
  - UDP是无状态协议，不需先建立连接，可以任意发，不保证数据一定发给对方
  - TCP数据形式是连续的字节流，有先后顺序
  - UDP数据形式是无序的分散小数据包，顺序发，乱序收

- `HTTP`协议的工作特点和工作原理
  - 工作特点
    - 基于`B/S`模式
    - 通信开销小，简单快速，传输成本低
    - 使用灵活，可以使用超文本传输协议
    - 节省传输时间
    - 无状态

- `HTTPS`协议
  - 基于`SSL/TLS`协议的`HTTP`协议，所有的`HTTP`数据都是基于`SSL/TLS`的协议之上传输的
  - `HTTPS`协议是在`HTTP`协议基础上，添加了`SSL/TLS`握手以及数据加密传输，也属于应用层协议

- 其他协议
  - `FTP`：文件传输协议，默认端口21
  - `Telnet`：远程登录，默认端口23
  - `SMTP`：简单邮件传输协议，端口25
  - `POP3`：接受邮件，端口110
  - `DNS`：用于域名解析服务，端口53


