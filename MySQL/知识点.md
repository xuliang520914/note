### MySQL基础知识点
- 数据类型
  - 整型类型
    - TINYINT
    - SMALLINT
    - MEDIUNINT
    - INT
    - BIGINT
      - 都可以配合UNSIGNED使用
      - 可以为整型类型指定宽度，对大多数应用是没有意义的，不会限制合法值范围，只会影响显示字符的个数
        - 比如：int(3)，存的12，前面会填0补充
  - 实数类型
    - FLOAT
    - DOUBLE
    - DECIMAL
      - DECIMAL可以存储比BIGINT还大的整型，可以用于存取精确的小数
      - FLOAT和DOUBLE支持使用标准的浮点进行近似的计算，计算时比DECIMAL性能高，DECIMAL可以看做是当做字符串处理
  - 字符串类型
    - CHART
      - CHART是定长，根据定义的字符串长度分配空间
      - 会根据需要用空格进行填充以方便比较
      - 适合存储较短的字符串，或者值的长度都接近一个长度
      - 超出设定长度会被截断
    - VARCHART
      - VARCHART用于存取可变长度字符串，比CHART节省空间
      - VARCHART使用1个或2个字节记录字符串长度，列长度小于255字节用1个，否则2个 
      - VARCHART超出指定长度，会被截断
    - TEXT
    - BLOB
      - 对于经常变更的数据，CHART比VARCHART更好，CHART不容易产生碎片
      - 对于更短的数据，CHART比VARCHART在存储空间上更有效率
      - 只分配真正需要的空间，更长的列会消耗更多的内存
      - 尽量避免使用TEXT和BLOB，查询会使用临时表，导致严重的性能开销
  - 枚举
    - 有时会使用枚举代替常用的字符串类型
    - 把不重复的集合存储成一个预定义的集合
    - 非常紧凑，把列表值压缩成一个或两个字节
    - 内部存储的是整数
    - 尽量避免使用数字作为ENUM枚举类型的常量，避免混乱
    - 排序是按照内部存储的整数排序
    - 枚举会使表大大减小
  - 日期和时间类型
    - 尽量使用TIMSTAMP，比DATETIME效率高
    - 用整数保存时间戳的格式不方便处理
    - 如果要存储微秒可以用BIGINT

- 列属性
  - auto_increment
  - default
  - not null
  - zerofill

### MySQL基础操作
- `mysql -u 用户名 -h 主机 -P 端口 -p 密码`
- `\G`：打印结果垂直显示
- `\c`：取消当前MySQL命令
- `\q`：退出MySQL
- `\s`：显示MySQL当前执行状态。比如当前状态，版本，客户端ip，QPS等
- `\h`：帮助信息
- `\d`：改变执行符。比如分号改为其他符号

### MySQL引擎
- InnoDB
  - 默认支持事务
  - 数据存储在共享表空间，可以通过配置分开
  - 对主键查询性能高于其他存储引擎
  - 通过一些工具和机制支持真正的热备份
  - 支持崩溃后的安全恢复
  - 支持行级锁
  - 支持外键
- MyISAM
  - 拥有全文索引，压缩和空间函数
  - 不支持事务和行级锁
  - 不支持崩溃后的安全恢复
  - 表存储在两个文件，MYD和MYI
  - 设计简单，某些场景下性能很好
- 其他引擎
  - Memroy
  - CSV
  - Archive

### 锁机制
- 表锁是日常开发中常见的问题，当多个查询同一时刻进行数据修改时，就会产生并发控制的问题
- 分为共享锁和排它锁，其实就是读锁和写锁
- 写锁是拍它的，一个写锁会阻塞其他的读锁和写锁，这样就可以只允许一个人进行写入，防止其他用户读取正在写入的资源
- 锁的粒度
  - 表锁：性能开销最小，锁整张表，MyISAM使用表锁
  - 行锁：最大程度支持并发处理，也带来了最大的锁开销，InnoDB实现行锁

### 事务处理
- 服务器层不管理事务，由下层的引擎实现，所以事务处理尽量使用同一引擎
- 在非事务的表上执行事务操作MySQL不会发出提醒也不会报错
  
### 存储过程
- 一条或多条MySQL语句的集合
- 存储过程就是有业务逻辑和流程的集合
- 可以在存储过程中创建表，更新数据，删除等等
- 使用场景
  - 通过把处理封装在容易使用的单元中，简化复杂操作
  - 保证数据的一致性
  - 简化对变动的管理

### 触发器
- 提供给程序员和数据分析员来保证数据完整性和一致性的一种方法，它是与表事件相关的特殊的存储过程
- 使用场景
  - 可以通过数据库的关联表实现级联更改
  - 实时监控某张表中的某个字段而做出需要做出的相应的处理
  - 某些业务编号的自动生成
  - 滥用会造成数据库和程序的维护困难